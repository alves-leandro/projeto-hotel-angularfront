<div class="user-list-container" fxLayout="column" fxFill>
  <div fxLayoutAlign="end">
    <button
      class="createUserButton"
      mat-raised-button
      color="primary"
      (click)="openCreateUserDialog()"
    >
      Create User
    </button>
  </div>

  <div class="list-container">
    <mat-table [dataSource]="guests" class="mat-elevation-z8">
      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <mat-header-cell *matHeaderCellDef> Username </mat-header-cell>
        <mat-cell *matCellDef="let user"> {{ user.username }} </mat-cell>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <mat-header-cell *matHeaderCellDef> Email </mat-header-cell>
        <mat-cell *matCellDef="let user"> {{ user.email }} </mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
        <mat-cell *matCellDef="let user"> {{ user.name }} </mat-cell>
      </ng-container>

      <!-- Rule Column -->
      <ng-container matColumnDef="rule">
        <mat-header-cell *matHeaderCellDef> Rule </mat-header-cell>
        <mat-cell *matCellDef="let user"> {{ user.rule }} </mat-cell>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let user">
          <button
            mat-icon-button
            color="primary"
            (click)="openUpdateUserDialog(user.id)"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="onDeleteClick(user.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-cell>
      </ng-container>

      <mat-header-row
        *matHeaderRowDef="['username', 'email', 'name', 'rule', 'actions']"
      ></mat-header-row>
      <mat-row
        *matRowDef="
          let row;
          columns: ['username', 'email', 'name', 'rule', 'actions']
        "
      ></mat-row>
    </mat-table>
  </div>
</div>
